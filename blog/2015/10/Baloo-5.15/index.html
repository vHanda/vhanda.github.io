<!doctype html><html dir=ltr lang=en data-theme class=html><head><title>Vishesh Handa
|
Baloo 5.15</title><meta charset=utf-8><meta name=generator content="Hugo 0.95.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=author content="Vishesh Handa"><meta name=description content="
      Haven't figured out a description


    "><link rel=stylesheet href=/scss/main.min.5259d55db7b9c675f751f0865411bd84a410f3ffcb5105b8fc00b22fcb739309.css integrity="sha256-UlnVXbe5xnX3UfCGVBG9hKQQ8//LUQW4/ACyL8tzkwk=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.31b0a1f317f55c529a460897848c97436bb138b19c399b37de70d463a8bf6ed5.css integrity="sha256-MbCh8xf1XFKaRgiXhIyXQ2uxOLGcOZs33nDUY6i/btU=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/fontawesome.min.69685904d5c2a0c6258d03c207b778c10466edf6cea928cc0164c376b0ad0930.css integrity="sha256-aWhZBNXCoMYljQPCB7d4wQRm7fbOqSjMAWTDdrCtCTA=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/solid.min.6d585e78d28cce1200d39fb133c92ed83df01738da721d0f48fb6eac62d24e04.css integrity="sha256-bVheeNKMzhIA05+xM8ku2D3wFzjach0PSPturGLSTgQ=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/brands.min.6b00d96498d59caa0dbcf9b49d30d821915291f2ceb0e19248523c8607ff43fa.css integrity="sha256-awDZZJjVnKoNvPm0nTDYIZFSkfLOsOGSSFI8hgf/Q/o=" crossorigin=anonymous type=text/css><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=canonical href=http://vhanda.in/blog/2015/10/Baloo-5.15/><script type=text/javascript src=/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js integrity="sha256-+RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/anatole-theme-switcher.min.560a26330d27ff44a44e83b53cd07a95d4230a65930d31c5c76a8d481e5b35bf.js integrity="sha256-VgomMw0n/0SkToO1PNB6ldQjCmWTDTHFx2qNSB5bNb8=" crossorigin=anonymous></script><meta name=twitter:card content="summary"><meta name=twitter:title content="Baloo 5.15"><meta name=twitter:description content="We have a new release of Baloo. For those of you who don&rsquo;t know about it - It&rsquo;s a file indexing and searching solution for Linux. It&rsquo;s quite fast, and shipped by default in KDE Plasma.
Baloo is part of KDE Frameworks and has a fast 1 month release cycle. So, I&rsquo;m probably going to be spamming you about the big changes in Baloo each month.
The 5.15 release focused a lot on tooling and bug fixing."><meta property="og:title" content="Baloo 5.15"><meta property="og:description" content="We have a new release of Baloo. For those of you who don&rsquo;t know about it - It&rsquo;s a file indexing and searching solution for Linux. It&rsquo;s quite fast, and shipped by default in KDE Plasma.
Baloo is part of KDE Frameworks and has a fast 1 month release cycle. So, I&rsquo;m probably going to be spamming you about the big changes in Baloo each month.
The 5.15 release focused a lot on tooling and bug fixing."><meta property="og:type" content="article"><meta property="og:url" content="http://vhanda.in/blog/2015/10/Baloo-5.15/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2015-10-10T16:57:00+00:00"><meta property="article:modified_time" content="2015-10-10T16:57:00+00:00"><meta property="og:site_name" content="Vishesh Handa"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"blog","name":"Baloo 5.15","headline":"Baloo 5.15","alternativeHeadline":"","description":"
      
        We have a new release of Baloo. For those of you who don\u0026rsquo;t know about it - It\u0026rsquo;s a file indexing and searching solution for Linux. It\u0026rsquo;s quite fast, and shipped by default in KDE Plasma.\nBaloo is part of KDE Frameworks and has a fast 1 month release cycle. So, I\u0026rsquo;m probably going to be spamming you about the big changes in Baloo each month.\nThe 5.15 release focused a lot on tooling and bug fixing.


      


    ","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/vhanda.in\/blog\/2015\/10\/Baloo-5.15\/"},"author":{"@type":"Person","name":"Vishesh Handa"},"creator":{"@type":"Person","name":"Vishesh Handa"},"accountablePerson":{"@type":"Person","name":"Vishesh Handa"},"copyrightHolder":{"@type":"Person","name":"Vishesh Handa"},"copyrightYear":"2015","dateCreated":"2015-10-10T16:57:00.00Z","datePublished":"2015-10-10T16:57:00.00Z","dateModified":"2015-10-10T16:57:00.00Z","publisher":{"@type":"Organization","name":"Vishesh Handa","url":"http://vhanda.in","logo":{"@type":"ImageObject","url":"http:\/\/vhanda.infavicon-32x32.png","width":"32","height":"32"}},"image":[],"url":"http:\/\/vhanda.in\/blog\/2015\/10\/Baloo-5.15\/","wordCount":"313","genre":[],"keywords":["planetkde","baloo"]}</script></head><body class="body theme--light"><div class=wrapper><aside class=wrapper__sidebar><div class="sidebar
animated fadeInDown"><div class=sidebar__content><div class=sidebar__introduction><img class=sidebar__introduction-profileimage src=/blog/images/2015/08/16/vhanda.jpg alt="profile picture"><h1 class=sidebar__introduction-title><a href=/>Vishesh Handa</a></h1><div class=sidebar__introduction-description><p>Haven't figured out a description</p></div></div><ul class=sidebar__list><li class=sidebar__list-item><a href=https://www.linkedin.com/in/visheshhanda/ rel=me aria-label=Linkedin title=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://github.com/vhanda rel=me aria-label=GitHub title=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://twitter.com/visheshhanda rel=me aria-label=Twitter title=Twitter><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=mailto:me@vhanda.in rel=me aria-label=e-mail title=e-mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer__sidebar"><ul class=footer__list><li class=footer__item>&copy;
Vishesh Handa
2022</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.a3fd0638ada4e3cec287e49a604b4a828cfef33a669afe60b96575761fff5cf3.js integrity="sha256-o/0GOK2k487Ch+SaYEtKgoz+8zpmmv5guWV1dh//XPM=" crossorigin=anonymous></script></div></aside><main class=wrapper__main><header class=header><div class="animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span></a><nav class=nav><ul class=nav__list id=navMenu></ul><ul class="nav__list nav__list--end"><li class=nav__list-item><div class=themeswitch><a title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></li></ul></nav></div></header><div class="post
animated fadeInDown"><div class=post__content><h1>Baloo 5.15</h1><p>We have a new release of <a href=https://community.kde.org/Baloo>Baloo</a>. For those of you who don&rsquo;t know about it - It&rsquo;s a file indexing and searching solution for Linux. It&rsquo;s quite fast, and shipped by default in KDE Plasma.</p><p>Baloo is part of KDE Frameworks and has a fast 1 month release cycle. So, I&rsquo;m probably going to be spamming you about the big changes in Baloo each month.</p><p>The <a href=https://www.kde.org/announcements/kde-frameworks-5.15.0.php>5.15</a> release focused a lot on tooling and bug fixing.</p><p>One of our main tools <code>balooctl</code> got a few additional commands -</p><ul><li><code>balooctl config</code> - For Managing your configuration. Before this our options were to either directly edit the config file or use the KCM shipped with Plasma.</li><li><code>balooctl check</code> - Forcibly check for updates. There are cases when we fail to pick up on file system events or baloo just isn&rsquo;t running. Executing this command makes baloo recheck if every file has been indexed.</li></ul><p>Additionally, a large number of bugs have been fixed. The largest is fixing the corruption issue with the Baloo index. Internally, Baloo uses <a href=http://symas.com/mdb/>LMDB</a> which provides us with a very efficient BTree. The Btree file is memory mapped and we get direct access to the kernel page table. This is dangerous but also makes us very efficient as we can avoid copies. One of the way of avoiding copies was to never copy words into memory and use <a href=http://doc.qt.io/qt-5/qbytearray.html#fromRawData><code>QByteArray::fromRawData</code></a>. This worked quite well, however since <code>QByteArray</code>, like all Qt containers, is <a href=http://doc.qt.io/qt-5/implicit-sharing.html>copy-on-write</a>, the original QByteArray would be copied and used even after the original had been destroyed.</p><p>For now we have <a href=https://git.reviewboard.kde.org/r/125362/>fixed this</a> by copying the memory each time. It is a little bit slower, but much safer, and this fixes a large number of crashes. Unfortunately, this also means that the previous index needs to be discarded.</p><p>With Baloo 5.15, all your files will be reindexed from scratch. It&rsquo;s unavoidable.</p></div><div class=post__footer><span><a class=tag href=/tags/planetkde/>planetkde</a><a class=tag href=/tags/baloo/>baloo</a></span></div></div></main></div><footer class="footer footer__base"><ul class=footer__list><li class=footer__item>&copy;
Vishesh Handa
2022</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.a3fd0638ada4e3cec287e49a604b4a828cfef33a669afe60b96575761fff5cf3.js integrity="sha256-o/0GOK2k487Ch+SaYEtKgoz+8zpmmv5guWV1dh//XPM=" crossorigin=anonymous></script></body></html>