<!DOCTYPE html>
<html lang="en" class="astro-EKSNFE3U">
  <head>
    <!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Astro v1.4.6">

<!-- Primary Meta Tags -->
<title>Forward Declaration Woes</title>
<meta name="title" content="Forward Declaration Woes">
<meta name="description">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://vhanda.in/blog/2010/06/forward-declaration-woes/">
<meta property="og:title" content="Forward Declaration Woes">
<meta property="og:description">
<meta property="og:image" content="https://vhanda.in/placeholder-social.jpg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://vhanda.in/blog/2010/06/forward-declaration-woes/">
<meta property="twitter:title" content="Forward Declaration Woes">
<meta property="twitter:description">
<meta property="twitter:image" content="https://vhanda.in/placeholder-social.jpg">

    
  <link rel="stylesheet" href="/assets/5d57c98f.7e8ebc48.css" />
<link rel="stylesheet" href="/assets/7b6f844a.6aba9791.css" /></head>

  <body class="astro-EKSNFE3U">
    <header class="astro-FR777CPJ">
  <h2 class="astro-FR777CPJ">
    Vishesh Handa&#39;s personal website
  </h2>
  <nav class="astro-FR777CPJ">
    <a href="/" class="astro-FR777CPJ astro-HA6FOUVL">
  Home
</a>

    <a href="/blog" class="astro-FR777CPJ astro-HA6FOUVL">
  Blog
</a>

    <a href="/about" class="astro-FR777CPJ astro-HA6FOUVL">
  About
</a>

    <a href="https://twitter.com/visheshhanda" class="astro-FR777CPJ astro-HA6FOUVL" target="_blank">
  Twitter
</a>

    <a href="https://github.com/vhanda" class="astro-FR777CPJ astro-HA6FOUVL" target="_blank">
  GitHub
</a>

  </nav>
</header>

    <main class="astro-EKSNFE3U">
      <article class="astro-EKSNFE3U">
        
        <h1 class="title astro-EKSNFE3U">Forward Declaration Woes</h1>
        <time class="astro-EKSNFE3U">2010-06-07T04:42:04Z</time>
        
        <hr class="astro-EKSNFE3U">
        <p>I’m ashamed to admit it, but I’ve never really understood forward declaration in C++. I know it’s used to speed up compile times, and it helps me fix cyclic dependency issues, but I’ve never really understood it. To this date, my approach of forward declaration has been - “Forward declare most of the things, and then include header files to fix compiler warnings.” I know that’s not the best approach, and I should have read about it earlier, but …</p>
<p>Here are the cases where you can’t use forward declaration -</p>
<ul>
	<li>**Base Classes - **When deriving a class Der, from a base class Base. Base cannot be forward declared</li>
	<li>**Member Variables -** If a class A is used  as a member variable then it can't be forward declared (References and pointers do not count)</li>
</ul>
I knew about the Base Class condition, but not about the other one. These conditions exist because the compiler must be able to find the total size of the class from the its definition. The compiler knows the size of pointers (and references.)
<p>Another issue that had been bugging me was the use of forward declaration with templates. After reading and experimenting this is what I figured out.</p>
<ul>
	<li>The syntax for forward declaring templates is NOT -- `template &#x3C;typename T> className&#x3C;T>;` It is -- `template &#x3C;typename T> className;`</li>
	<li>Templates must be forward declared with all their parameters even if some of them are optional</li>
	<li>The template parameters follow the same forward declaration rules as another other member variables if the template is being used as a member variable. If the template variable is a pointer or a reference, you can safely forward declare its parameters.</li>
</ul>
A couple of other minor details -
<ul>
	<li>You can't forward declare typedefs or enumerations</li>
	<li>Don't ever try to forward declare any class from the *std namespace*. For one it's not allowed, and two, many commonly used classes, like std::string, are actually typedefs for other classes.</li>
</ul>
Maybe this blog post will help some poor bloke like me, who never bothered to fully understand forward declaration. :-/
      </article>
    </main>
    <footer class="astro-OCYQ4NHN">
  &copy; 2022 Vishesh Handa. <a href="http://creativecommons.org/licenses/by-nc/4.0/" class="astro-OCYQ4NHN">Creative Commons 4.0</a>.
</footer>

  </body></html>